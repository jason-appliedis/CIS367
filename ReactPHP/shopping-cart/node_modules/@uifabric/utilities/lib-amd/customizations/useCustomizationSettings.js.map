{"version":3,"file":"useCustomizationSettings.js","sourceRoot":"../src/","sources":["customizations/useCustomizationSettings.ts"],"names":[],"mappings":";;;IAIA;;OAEG;IACH,SAAgB,wBAAwB,CAAC,UAAoB,EAAE,SAAkB;QAC/E,IAAM,iBAAiB,GAAG,KAAK,CAAC,UAAU,CAAC,qCAAiB,CAAC,CAAC;QAC9D,IAAM,aAAa,GAAG,iBAAiB,CAAC,cAAc,CAAC;QACjD,IAAA,sGAA0G,EAAzG,gBAAQ,EAAE,mBAA+F,CAAC;QAEjH,IAAM,qBAAqB,GAAG,KAAK,CAAC,WAAW,CAAC;YAC9C,IAAM,cAAc,GAAG,+BAAc,CAAC,WAAW,CAAC,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;YACxF,WAAW,CAAC,cAAc,CAAC,CAAC;QAC9B,CAAC,EAAE,CAAC,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;QAE3C,KAAK,CAAC,SAAS,CAAC;YACd,+BAAc,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;YAE9C,OAAO,cAAM,OAAA,+BAAc,CAAC,SAAS,CAAC,qBAAqB,CAAC,EAA/C,CAA+C,CAAC;QAC/D,CAAC,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC;QAE5B,OAAO,QAAQ,CAAC;IAClB,CAAC;IAjBD,4DAiBC","sourcesContent":["import * as React from 'react';\nimport { ISettings, Customizations } from './Customizations';\nimport { CustomizerContext } from './CustomizerContext';\n\n/**\n * Hook to get Customizations settings. It will trigger component state update on settings change observed.\n */\nexport function useCustomizationSettings(properties: string[], scopeName?: string): ISettings {\n  const customizerContext = React.useContext(CustomizerContext);\n  const localSettings = customizerContext.customizations;\n  const [settings, setSettings] = React.useState(Customizations.getSettings(properties, scopeName, localSettings));\n\n  const onCustomizationChange = React.useCallback(() => {\n    const globalSettings = Customizations.getSettings(properties, scopeName, localSettings);\n    setSettings(globalSettings);\n  }, [properties, scopeName, localSettings]);\n\n  React.useEffect(() => {\n    Customizations.observe(onCustomizationChange);\n\n    return () => Customizations.unobserve(onCustomizationChange);\n  }, [onCustomizationChange]);\n\n  return settings;\n}\n"]}